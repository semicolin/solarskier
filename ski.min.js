(function(){function q(u,r){return"hsla("+u+",100%,50%,"+r+")"}var x=function(){function u(){if(document.cookie)for(var a=document.cookie.split(";"),c=0;c<a.length;c++){var d=a[c].split("=");if("solarskierhighscore"===d[0])return h=d[1],!0}return!1}function r(a){a=a.toString();for(var c="",d=1;d<=a.length;d++)c=a[a.length-d]+c,0===d%3&&(c=" "+c);return c}var h=0,f,d,g,n;return{b:function(a,c,h){n=a;f=c;d=h;g=0;u();return this},d:function(a,c){a.textAlign="right";a.textBaseline="top";a.fillStyle=q(n.g(), 1);a.font="32px sans-serif";a.fillText(r(g),f-20,80);a.font="16px sans-serif";a.fillText("current",f-20,110);a.fillStyle=q(245-(n.g()-245),1);a.font="32px sans-serif";a.fillText(r(h),f-20,20);a.font="16px sans-serif";a.fillText("best",f-20,50);c&&(a.font="64px sans-serif",a.textAlign="center",a.textBaseline="middle",g===h&&0<h?(a.fillStyle=a.createLinearGradient(0,d/2-32,0,d/2+32),a.fillStyle.addColorStop(0,q(190,1)),a.fillStyle.addColorStop(1,q(300,1)),a.fillText("New High Score!",f/2,d/2),a.fillStyle= a.createLinearGradient(0,d/2-80-32,0,d/2-80+32),a.fillStyle.addColorStop(0,q(300,1)),a.fillStyle.addColorStop(1,q(190,1)),a.fillText(r(g),f/2,d/2-80)):(a.fillStyle="#333366",a.fillText("Game Over",f/2,d/2)),a.font="24px sans-serif",a.fillStyle="black",a.fillText("press ENTER to play again",f/2,d/2+80))},p:function(){if(g>h){h=g;var a=new Date;a.setTime(a.getTime()+31536E6);document.cookie="solarskierhighscore="+h+";expires="+a.toGMTString()}},n:u,f:function(a){g+=a},o:function(a){g-=a}}}(),y=function(){var u= Math.PI/36,r,h,f,d,g,n,a,c,l,p,b,e,k,t;return{b:function(v,m){r=v;h=m;f=Math.floor(v/3);d=m-1;g=-Math.PI/2;n=0;a=[];l=c=0;p=4;b=245;k=e=0;t=!1;return this},update:function(c,m){c[37]&&!t&&1!==n?(n=-1,k+=e,k=Math.min(k,200),e-=5E-4*k,g=(g-u)%(2*Math.PI),190<b&&(b-=5)):c[39]&&!t&&-1!==n?(n=1,k+=e,k=Math.min(k,200),e-=5E-4*k,g=(g+u)%(2*Math.PI),300>b&&(b+=5)):(k-=12,0>=k&&(n=k=0),e+=0.03,245<b?b-=5:245>b&&(b+=5));alpha=1;alpha=t?0.2:alpha;p=4+0.1*k;e=Math.max(e,1);f+=e*Math.cos(g);d+=e*Math.sin(g);a.push({x:f, y:d,size:p,color:q(b,alpha)});l+=1;return 0>f||d<m||f>r||d>h+m?!1:!0},clip:function(e,d,b){if(b){for(;0<l&&a[l-1].y<e-20;)l-=1;c=Math.max(0,l-(200+d-e))}else for(;c<a.length-1&&a[c].y>d+20;)c+=1},d:function(e,d){e.lineCap="round";for(var b=a[c].x,k=a[c].y,f,g=c+1;g<l;g++)f=a[g],f.y<d&&(e.lineWidth=f.size,e.strokeStyle=f.color,e.beginPath(),e.moveTo(b,k),e.lineTo(f.x,f.y),e.stroke()),b=f.x,k=f.y},h:function(a){t=a},g:function(){return b},l:function(){return f},e:function(){return d},k:function(){return g}}}(), z=function(){var u=q(190,0.8),r=q(300,0.8),h,f,d,g,n,a,c,l=function(){function p(a){d.push({x:Math.floor(Math.random()*h),y:a,a:Math.floor(90*Math.random()+10)})}var b;return{b:function(e,k,t,l){a=e;c=k;h=t;f=l;b=64E3/h;d=[];for(e=f-300;-100<e;e-=b)p(e);g=0;n=d.length;return this},update:function(e){for(b-=0.003;;){var k=d[d.length-1].y-b;if(k<e-100)break;else p(k),n+=1}e=a.l();var k=a.e(),f=a.k()+2*Math.PI;a.h(!1);for(var h=g;h<n;h++){var m=d[h],l=e-m.x,r=k-m.y,s=m.a+50,l=l*l+r*r;l<m.a*m.a?(a.h(!0), m.m=!0,m.c&&(c.o(m.a),m.c=!1)):!m.m&&!m.c&&l<s*s&&(s=(f-Math.atan2(m.y-k,m.x-e)+2*Math.PI)%(2*Math.PI),Math.PI/4<s&&s<3*Math.PI/4?(m.c=-1,c.f(m.a)):5*Math.PI/4<s&&s<7*Math.PI/4&&(m.c=1,c.f(m.a)))}},clip:function(a,b,c){if(c){for(;0<g&&d[g-1].y<b+100;)g-=1;for(;0<n&&d[n-1].y<a-100;)n-=1}else for(;d[g].y>b+100;)g+=1},d:function(a){for(var b,c=g;c<n;c++)b=d[c],a.fillStyle=-1===b.c?u:1===b.c?r:"hsla(245,10%,50%,0.5)",a.beginPath(),a.arc(b.x,b.y,b.a,0,2*Math.PI),a.fill(),b.c&&(a.fillStyle="white",a.font= Math.floor(0.8*b.a)+"px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillText(b.a,b.x,b.y))}}}();return{j:function(){var p;return{b:function(b,e,g,l){a=b;c=e;h=g;f=l;d=[{x:h/3+10,y:f-450,a:27},{x:h/3-120,y:f-600,a:53},{x:h/3-200,y:f-380,a:36},{x:h/3-330,y:f-200,a:63},{x:h/3-100,y:f-250,a:16},{x:h/3-450,y:f-700,a:90},{x:h/3+670,y:f-630,a:99},{x:h/3+880,y:f-755,a:48},{x:h/3+600,y:f-1E3,a:77}];return this},update:function(){!d[0].c&&a.e()<=d[0].y+d[0].a&&(d[0].c=1);!d[1].c&&a.e()<=d[1].y+ d[1].a&&(d[1].c=-1)},clip:function(a){p=a;g=0;n=d.length},d:function(b){l.d(b);b.textBaseline="middle";b.fillStyle="black";b.font="32px sans-serif";a.e()<=p&&(b.textAlign="left",b.fillText("stay on screen!",h/3+60,p+80));a.e()<=d[0].y+d[0].a&&(b.textAlign="right",b.fillText("score points",h/3-70,f-500));a.e()<f-250&&(b.textAlign="right",b.fillText("avoid planets",h/3-100,f-300));b.textAlign="left";b.fillText("LEFT + RIGHT make turns",h/3+60,f-180);0<p&&(b.textAlign="center",b.fillText("press ENTER to play", h/2,f/2))}}}(),i:l}}();(function(){function u(a){c[a.which]=!1}function r(b){c[b.which]=!0;(v||m)&&(c[13]||c[32])&&(clearInterval(a),d(),f())}function h(){b+=1;k+=t;k=Math.max(k,-15);e-=k;n.setTransform(1,0,0,1,0,-Math.floor(e));n.clearRect(0,e,l,p);m&&(60>b?(c[37]=!1,c[39]=!1):270<b?(c[37]=!1,c[39]=!1):10>b%60||50<=b%60?(c[37]=!0,c[39]=!1):20<=b%60&&40>b%60?(c[37]=!1,c[39]=!0):(c[37]=!1,c[39]=!1));v||(s.update(e),q.update(c,e)||(v=!0,t=-0.05,m||w.p()));s.clip(e,e+p,v);q.clip(e,e+p,v);s.d(n);q.d(n, e+p);m||(n.setTransform(1,0,0,1,0,0),w.d(n,v));0<e&&clearInterval(a)}function f(){c={};e=b=0;k=1;t=5E-4;q=y.b(l,p);w=x.b(q,l,p);s=z.i.b(q,w,l,p);a=setInterval(h.bind(this),1E3/60);m=v=!1}function d(){g.width=window.innerWidth;g.height=window.innerHeight-5;l=g.width;p=g.height}var g,n,a,c,l,p,b,e,k,t,v,m,q,w,s;return{b:function(A){g=A;n=g.getContext("2d");c={};document.onkeydown=r;document.onkeyup=u;d();x.n()?f():(c={},e=b=0,k=0.2,t=0,q=y.b(l,p),w=x.b(q,l,p),s=z.j.b(q,w,l,p),a=setInterval(h,1E3/60), v=!1,m=!0)}}})().b(document.getElementById("game"))})();